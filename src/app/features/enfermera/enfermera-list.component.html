<div class="container mt-4">
  <h2>Gesti√≥n de Enfermeras</h2>

  <div class="top-bar">
    <input
      type="text"
      placeholder="Buscar por nombre o c√©dula..."
      [(ngModel)]="searchTerm" />
    <button class="btn-add" (click)="openModal()">Inscribir Enfermera</button>
  </div>

  <div class="search-id-bar">
    <input
      type="text"
      placeholder="Ingrese el ID de la enfermera..."
      [(ngModel)]="searchId" />
    <button class="btn-id-search" (click)="buscarPorId()">Buscar por ID</button>
    <button class="btn-view-all" (click)="verTodos()">Ver todas</button>
  </div>

  <table class="table table-striped align-middle text-center">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>C√©dula</th>
        <th>Correo</th>
        <th>Tel√©fono</th>
        <th>√Årea</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let enfermera of filteredEnfermeras">
        <td>{{ enfermera.idEnfermera }}</td>
        <td>{{ enfermera.nombreEnfermera }}</td>
        <td>{{ enfermera.cedulaEnfermera }}</td>
        <td>{{ enfermera.correoEnfermera }}</td>
        <td>{{ enfermera.telefonoEnfermera }}</td>
        <td>{{ enfermera.areaEnfermera }}</td>
        <td>
          <button class="btn btn-sm btn-warning me-2" (click)="openModal(enfermera)">‚úèÔ∏è</button>
          <button class="btn btn-sm btn-danger" (click)="deleteEnfermera(enfermera.idEnfermera)">üóëÔ∏è</button>
        </td>
      </tr>
      <tr *ngIf="filteredEnfermeras.length === 0">
        <td colspan="7" class="text-muted">No se encontraron enfermeras.</td>
      </tr>
    </tbody>
  </table>

  <nav class="pagination-container" *ngIf="enfermeras.length">
    <ul class="pagination">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <button class="page-link" (click)="prevPage()" [disabled]="currentPage === 1">
          ‚¨ÖÔ∏è Anterior
        </button>
      </li>

      <li class="page-item active"><span class="page-link">P√°gina {{ currentPage }}</span></li>

      <li class="page-item"><button class="page-link" (click)="nextPage()">Siguiente ‚û°Ô∏è</button></li>
    </ul>
  </nav>

  <div class="modal" *ngIf="showModal">
    <div class="modal-content">
      <h3>{{ editMode ? 'Editar Enfermera' : 'Inscribir Enfermera' }}</h3>
      <form (ngSubmit)="saveEnfermera()">
        <label>Nombre:</label>
        <input type="text" [(ngModel)]="selectedEnfermera.nombreEnfermera" name="nombreEnfermera" required />

        <label>C√©dula:</label>
        <input type="text" [(ngModel)]="selectedEnfermera.cedulaEnfermera" name="cedulaEnfermera" />

        <label>Correo:</label>
        <input type="email" [(ngModel)]="selectedEnfermera.correoEnfermera" name="correoEnfermera" required />

        <label>Tel√©fono:</label>
        <input type="text" [(ngModel)]="selectedEnfermera.telefonoEnfermera" name="telefonoEnfermera" />

        <label>√Årea:</label>
        <input type="text" [(ngModel)]="selectedEnfermera.areaEnfermera" name="areaEnfermera" />

        <div class="actions">
          <button type="button" class="btn-cancel" (click)="closeModal()">Cancelar</button>
          <button type="submit" class="btn btn-success">{{ editMode ? 'Guardar Cambios' : 'Guardar' }}</button>
        </div>
      </form>
    </div>
  </div>
</div>